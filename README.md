# AI Strategy Server for PitWall Dashboard

<p align="center">
<strong>Backend server providing intelligent race analysis for the <a href="https://github.com/Kubrooo/pit-wall-dashboard">PitWall - F1 Race Strategy Dashboard</a> project.</strong>
</p>

---

## üöÄ About This Project

The **AI Strategy Server** is a backend component built with **Node.js** and **Express.js**. Its main purpose is to receive race result data from the F1 simulation, format it into a detailed prompt, and send it to a **Generative AI model** via the **Replicate API** to produce intelligent post-race analysis.

This server is specifically designed to:

* **Receive Race Data:** Accept a JSON payload containing final telemetry data from monitored drivers.
* **Handle Complex Scenarios:** Process data even if one or more drivers fail to finish (DNF).
* **Generate AI-Powered Insights:** Return summarized performance and strategy analysis in a structured, frontend-friendly format.

---

## üõ†Ô∏è Tech Stack

* **Node.js** ‚Äî Runtime environment
* **Express.js** ‚Äî Web framework for routing and API handling
* **Replicate API** ‚Äî Used for AI-driven analysis generation
* **dotenv** ‚Äî For environment variable management

---

## üèÅ How to Run

Follow the steps below to run the AI Strategy Server locally:

### 1. Clone this repository

```bash
git clone https://github.com/Kubrooo/ai-strategy-server.git
```

### 2. Navigate to the project directory

```bash
cd ai-strategy-server
```

### 3. Install dependencies

```bash
npm install
```

### 4. Create a `.env` file in the project root

This file will store your API key:

```env
REPLICATE_API_TOKEN=YOUR_REPLICATE_API_TOKEN
```

Replace `YOUR_REPLICATE_API_TOKEN` with your actual Replicate API key.

### 5. Start the server

```bash
npm start
```

By default, the server will run at **[http://localhost:4000](http://localhost:4000)**.

---

## üì° API Definition

### **POST /strategy**

**Description:** Accepts race data and returns analysis generated by the AI.

#### **Request Body**

```json
{
  "lap": 58,
  "leclerc": { "speed": 310.5, "tireWear": 85.2, "fuel": 10.1, "status": "running" },
  "lewis": { "speed": 0, "tireWear": 0, "fuel": 0, "status": "DNF" }
}
```

#### **Success Response (200 OK)**

```json
{
  "insight": "Charles Leclerc had a solid race, maintaining good pace, though tire degradation was a concern in the final stint. Lewis Hamilton's race was unfortunately cut short due to a DNF, preventing any strategic battles from playing out."
}
```

#### **Error Response (500 Internal Server Error)**

```json
{
  "error": "AI strategy failed."
}
```

---

## üîó Related Project

This project is part of the **PitWall Dashboard** ecosystem. To view the frontend repository, visit:
üëâ [PitWall - F1 Race Strategy Dashboard](https://github.com/Kubrooo/pit-wall-dashboard)

---

<p align="center"><em>Developed with passion for Formula 1 and data-driven strategy.</em></p>
